{"ast":null,"code":"import _regeneratorRuntime from\"E:/BackUp importante/Aprendiendo dise\\xF1o web/React/challenge/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/BackUp importante/Aprendiendo dise\\xF1o web/React/challenge/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"E:/BackUp importante/Aprendiendo dise\\xF1o web/React/challenge/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:/BackUp importante/Aprendiendo dise\\xF1o web/React/challenge/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import HeroCard from'./HeroCard';import'./Home.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),heroId=_useState2[0],setHeroId=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),heroes=_useState4[0],setHeroes=_useState4[1];//Traer los datos del localStorage y agregarlos a la variable de estado heroes\nuseEffect(function(){var staff=JSON.parse(localStorage.getItem('staff'));if(staff){staff.forEach(function(hero){setHeroId(function(heroes){return[].concat(_toConsumableArray(heroes),[hero.id]);});});}},[]);//Tomar los datos ID de los heroes del equipo y hacer la petición a la API para traer los datos\nuseEffect(function(){// console.log(heroId);\nvar getStaff=function getStaff(){heroId.forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://www.superheroapi.com/api.php/10221283496530128/\".concat(id));case 2:response=_context.sent;setHeroes(function(heroes){return[].concat(_toConsumableArray(heroes),[response.data]);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};getStaff();},[heroId]);var logOut=function logOut(){localStorage.removeItem('token');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-status-total\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"team-title\",children:\"SuperHeroes Team\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/search\",className:\"link-search-hero\",children:\"Search\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/login\",className:\"link-log-out\",onClick:logOut,children:\"LogOut\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",style:{marginTop:'2rem'},children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:heroes?heroes.map(function(heroe){return/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(HeroCard,{heroe:heroe},heroe.id)});}):null})})]});}","map":{"version":3,"sources":["E:/BackUp importante/Aprendiendo diseño web/React/challenge/src/components/Home/Home.js"],"names":["React","useEffect","useState","axios","HeroCard","Home","heroId","setHeroId","heroes","setHeroes","staff","JSON","parse","localStorage","getItem","forEach","hero","id","getStaff","get","response","data","logOut","removeItem","marginTop","map","heroe"],"mappings":"ykBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,YAAP,C,6IAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC3B,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAOI,MAAP,eAAeC,SAAf,eACA,eAA4BL,QAAQ,CAAC,EAAD,CAApC,yCAAOM,MAAP,eAAeC,SAAf,eAEA;AACAR,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd,CACA,GAAIJ,KAAJ,CAAW,CACPA,KAAK,CAACK,OAAN,CAAc,SAACC,IAAD,CAAU,CACpBT,SAAS,CAAC,SAACC,MAAD,qCAAgBA,MAAhB,GAAwBQ,IAAI,CAACC,EAA7B,IAAD,CAAT,CACH,CAFD,EAGH,CACJ,CAPQ,CAON,EAPM,CAAT,CASA;AACAhB,SAAS,CAAC,UAAM,CACZ;AACA,GAAMiB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBZ,MAAM,CAACS,OAAP,0FAAe,iBAAOE,EAAP,qJACYd,CAAAA,KAAK,CAACgB,GAAN,kEACuCF,EADvC,EADZ,QACLG,QADK,eAIXX,SAAS,CAAC,SAACD,MAAD,qCAAgBA,MAAhB,GAAwBY,QAAQ,CAACC,IAAjC,IAAD,CAAT,CAJW,sDAAf,gEAMH,CAPD,CAQAH,QAAQ,GACX,CAXQ,CAWN,CAACZ,MAAD,CAXM,CAAT,CAaA,GAAMgB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBT,YAAY,CAACU,UAAb,CAAwB,OAAxB,EACH,CAFD,CAIA,mBACI,wCACI,aAAK,SAAS,CAAC,kBAAf,wBACI,WAAI,SAAS,CAAC,YAAd,8BADJ,cAEI,UAAG,IAAI,CAAC,SAAR,CAAkB,SAAS,CAAC,kBAA5B,oBAFJ,cAKI,UACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,cAFd,CAGI,OAAO,CAAED,MAHb,oBALJ,GADJ,cAcI,YACI,SAAS,CAAC,WADd,CAEI,KAAK,CAAE,CACHE,SAAS,CAAE,MADR,CAFX,uBAMI,YAAK,SAAS,CAAC,KAAf,UACKhB,MAAM,CACDA,MAAM,CAACiB,GAAP,CAAW,SAACC,KAAD,CAAW,CAClB,mBACI,YAAK,SAAS,CAAC,UAAf,uBACI,KAAC,QAAD,EACI,KAAK,CAAEA,KADX,EAESA,KAAK,CAACT,EAFf,CADJ,EADJ,CAQH,CATD,CADC,CAWD,IAZV,EANJ,EAdJ,GADJ,CAsCH","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport HeroCard from './HeroCard';\r\nimport './Home.css';\r\n\r\nexport default function Home() {\r\n    const [heroId, setHeroId] = useState([]);\r\n    const [heroes, setHeroes] = useState([]);\r\n\r\n    //Traer los datos del localStorage y agregarlos a la variable de estado heroes\r\n    useEffect(() => {\r\n        const staff = JSON.parse(localStorage.getItem('staff'));\r\n        if (staff) {\r\n            staff.forEach((hero) => {\r\n                setHeroId((heroes) => [...heroes, hero.id]);\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    //Tomar los datos ID de los heroes del equipo y hacer la petición a la API para traer los datos\r\n    useEffect(() => {\r\n        // console.log(heroId);\r\n        const getStaff = () => {\r\n            heroId.forEach(async (id) => {\r\n                const response = await axios.get(\r\n                    `https://www.superheroapi.com/api.php/10221283496530128/${id}`\r\n                );\r\n                setHeroes((heroes) => [...heroes, response.data]);\r\n            });\r\n        };\r\n        getStaff();\r\n    }, [heroId]);\r\n\r\n    const logOut = () => {\r\n        localStorage.removeItem('token');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"box-status-total\">\r\n                <h1 className=\"team-title\">SuperHeroes Team</h1>\r\n                <a href=\"/search\" className=\"link-search-hero\">\r\n                    Search\r\n                </a>\r\n                <a\r\n                    href=\"/login\"\r\n                    className=\"link-log-out\"\r\n                    onClick={logOut}\r\n                >\r\n                    LogOut\r\n                </a>\r\n            </div>\r\n            <div\r\n                className=\"container\"\r\n                style={{\r\n                    marginTop: '2rem'\r\n                }}\r\n            >\r\n                <div className=\"row\">\r\n                    {heroes\r\n                        ? heroes.map((heroe) => {\r\n                              return (\r\n                                  <div className=\"col-sm-6\">\r\n                                      <HeroCard\r\n                                          heroe={heroe}\r\n                                          key={heroe.id}\r\n                                      />\r\n                                  </div>\r\n                              );\r\n                          })\r\n                        : null}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}