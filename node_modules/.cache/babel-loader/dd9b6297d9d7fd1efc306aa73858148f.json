{"ast":null,"code":"import _slicedToArray from\"E:/BackUp importante/Aprendiendo dise\\xF1o web/React/challenge/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{heroeAlignment,heroeAlreadyExist,addToStaff,isStaffFull}from'./HeroStaffValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HeroCard(props){// console.log(props.heroe);\n//Estado para seleccionar el heroe\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),heroe=_useState2[0],setHeroe=_useState2[1];// const [isAdded, setIsAdded] = useState(false);\nvar heroImage=props.heroe.image.url,heroName=props.heroe.name;//Funcion para evaluar si el heroe ya existe en el staff, caso contrario, evaluar la orientación del heroe y comparar con el staff actual y decidir si agregarlo o no\nuseEffect(function(){if(!heroe.id)return;var staff=JSON.parse(localStorage.getItem('staff'));// console.log(staff);\nif(isStaffFull(staff))return alert('El equipo esta lleno');//Evaluamos la existencia del heroe en el staff\nif(heroeAlreadyExist(staff,heroe)){return alert('Este heroe ya pertenece al equipo');}//Evaluamos la orientación del equipo actual\nvar orientation=heroeAlignment(staff);//Si la cantidad de miembros del equipo es menor a 6 y la orientacion total aun no supera los tres buenos y tres malos, agregamos el heroe\naddToStaff(staff,heroe,orientation);},[heroe]);//Funcion para seleccionar el heroe y posteriormente verificar su existencia en el staff\nvar selectHero=function selectHero(){setHeroe({id:props.heroe.id,alignment:props.heroe.biography.alignment});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img-top\",src:heroImage,alt:heroName}),/*#__PURE__*/_jsx(\"h5\",{className:\"card-title text-center\",children:heroName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:selectHero,children:\"Agregar al equipo\"})})]})})})});}","map":{"version":3,"sources":["E:/BackUp importante/Aprendiendo diseño web/React/challenge/src/components/Search/HeroCard.js"],"names":["React","useEffect","useState","heroeAlignment","heroeAlreadyExist","addToStaff","isStaffFull","HeroCard","props","heroe","setHeroe","heroImage","image","url","heroName","name","id","staff","JSON","parse","localStorage","getItem","alert","orientation","selectHero","alignment","biography"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACIC,cADJ,CAEIC,iBAFJ,CAGIC,UAHJ,CAIIC,WAJJ,KAKO,uBALP,C,6IAOA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACpC;AAEA;AACA,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA;AAEA,GAAIC,CAAAA,SAAS,CAAGH,KAAK,CAACC,KAAN,CAAYG,KAAZ,CAAkBC,GAAlC,CACIC,QAAQ,CAAGN,KAAK,CAACC,KAAN,CAAYM,IAD3B,CAGA;AACAd,SAAS,CAAC,UAAM,CACZ,GAAI,CAACQ,KAAK,CAACO,EAAX,CAAe,OAEf,GAAIC,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ,CACA;AACA,GAAIf,WAAW,CAACW,KAAD,CAAf,CAAwB,MAAOK,CAAAA,KAAK,CAAC,sBAAD,CAAZ,CAExB;AACA,GAAIlB,iBAAiB,CAACa,KAAD,CAAQR,KAAR,CAArB,CAAqC,CACjC,MAAOa,CAAAA,KAAK,CAAC,mCAAD,CAAZ,CACH,CAED;AACA,GAAMC,CAAAA,WAAW,CAAGpB,cAAc,CAACc,KAAD,CAAlC,CAEA;AACAZ,UAAU,CAACY,KAAD,CAAQR,KAAR,CAAec,WAAf,CAAV,CACH,CAjBQ,CAiBN,CAACd,KAAD,CAjBM,CAAT,CAmBA;AACA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBd,QAAQ,CAAC,CACLM,EAAE,CAAER,KAAK,CAACC,KAAN,CAAYO,EADX,CAELS,SAAS,CAAEjB,KAAK,CAACC,KAAN,CAAYiB,SAAZ,CAAsBD,SAF5B,CAAD,CAAR,CAIH,CALD,CAOA,mBACI,sCACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,MAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,YACI,SAAS,CAAC,cADd,CAEI,GAAG,CAAEd,SAFT,CAGI,GAAG,CAAEG,QAHT,EADJ,cAMI,WAAI,SAAS,CAAC,wBAAd,UACKA,QADL,EANJ,cASI,YAAK,SAAS,CAAC,aAAf,uBACI,eACI,SAAS,CAAC,mBADd,CAEI,OAAO,CAAEU,UAFb,+BADJ,EATJ,GADJ,EADJ,EADJ,EADJ,CA+BH","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    heroeAlignment,\r\n    heroeAlreadyExist,\r\n    addToStaff,\r\n    isStaffFull\r\n} from './HeroStaffValidation';\r\n\r\nexport default function HeroCard(props) {\r\n    // console.log(props.heroe);\r\n\r\n    //Estado para seleccionar el heroe\r\n    const [heroe, setHeroe] = useState({});\r\n    // const [isAdded, setIsAdded] = useState(false);\r\n\r\n    let heroImage = props.heroe.image.url,\r\n        heroName = props.heroe.name;\r\n\r\n    //Funcion para evaluar si el heroe ya existe en el staff, caso contrario, evaluar la orientación del heroe y comparar con el staff actual y decidir si agregarlo o no\r\n    useEffect(() => {\r\n        if (!heroe.id) return;\r\n\r\n        let staff = JSON.parse(localStorage.getItem('staff'));\r\n        // console.log(staff);\r\n        if (isStaffFull(staff)) return alert('El equipo esta lleno');\r\n\r\n        //Evaluamos la existencia del heroe en el staff\r\n        if (heroeAlreadyExist(staff, heroe)) {\r\n            return alert('Este heroe ya pertenece al equipo');\r\n        }\r\n\r\n        //Evaluamos la orientación del equipo actual\r\n        const orientation = heroeAlignment(staff);\r\n\r\n        //Si la cantidad de miembros del equipo es menor a 6 y la orientacion total aun no supera los tres buenos y tres malos, agregamos el heroe\r\n        addToStaff(staff, heroe, orientation);\r\n    }, [heroe]);\r\n\r\n    //Funcion para seleccionar el heroe y posteriormente verificar su existencia en el staff\r\n    const selectHero = () => {\r\n        setHeroe({\r\n            id: props.heroe.id,\r\n            alignment: props.heroe.biography.alignment\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <img\r\n                            className=\"card-img-top\"\r\n                            src={heroImage}\r\n                            alt={heroName}\r\n                        />\r\n                        <h5 className=\"card-title text-center\">\r\n                            {heroName}\r\n                        </h5>\r\n                        <div className=\"text-center\">\r\n                            <button\r\n                                className=\"btn btn-secondary\"\r\n                                onClick={selectHero}\r\n                            >\r\n                                Agregar al equipo\r\n                            </button>\r\n                        </div>\r\n                        {/*                         {isAdded ? (\r\n                            <div className=\"alert alert-success text-center\">\r\n                                Heroe agregado correctamente\r\n                            </div>\r\n                        ) : null} */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}